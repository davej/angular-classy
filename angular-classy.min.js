(function(){"use strict";var n,t,o,e,i,r,s={}.hasOwnProperty,a=[].indexOf||function(n){for(var t=0,o=this.length;o>t;t++)if(t in this&&this[t]===n)return t;return-1};n={},e=function(t,o){var e,i;return i={},(e=function(t){var r,s,a,c,l,u,p;for(r=angular.module(t),u=r.requires,p=[],c=0,l=u.length;l>c;c++)a=u[c],s=n[a],s&&(i[a]=s,null==o.__classyPluginDefaults&&(o.__classyPluginDefaults={}),o.__classyPluginDefaults[s.name]=angular.copy(s.options||{})),p.push(e(a));return p})(t),i},r=function(n,t,o){var e,i,r,s,a,c;r=t[0].__plugins||t[0].prototype.__plugins,c=[];for(i in r)e=r[i],null!=o&&"function"==typeof o.before&&o.before(e),s=null!=(a=e[n])?a.apply(e,t):void 0,c.push(null!=o&&"function"==typeof o.after?o.after(e,s):void 0);return c},o=function(n){var t,e,i,r,s;for(r=0,s=arguments.length;s>r;r++)if(e=arguments[r],e!==n)for(t in e)i=e[t],n[t]&&n[t].constructor&&n[t].constructor===Object?o(n[t],i):n[t]=angular.copy(i);return n},i=angular.module,angular.module=function(o,r,s){var a,c;return c=i(o,r,s),r&&("classy-core"===o&&(n[o]={}),a=e(o,c),a["classy-core"]&&(c.classy={plugin:{controller:function(t){return n[o]=t}},options:{controller:{}},activePlugins:a,controller:function(n){var o;return o=function(){function o(){t.init(this,arguments,c)}return t.preInit(o,n,c),o}()},controllers:function(n){var t,o,e;for(o=0,e=n.length;e>o;o++)t=n[o],this.controller(t);return c}},c.cC=c.classy.controller,c.cCs=c.classy.controllers)),c},t={localInject:["$q"],preInit:function(n,t,e){var i,a,c,l,u,p;for(i in t)s.call(t,i)&&(u=t[i],n.prototype[i]=u);a=o({},e.__classyPluginDefaults,e.classy.options.controller,t.__options),n.prototype.__plugins={},p=e.classy.activePlugins;for(l in p)c=p[l],n.prototype.__plugins[l]=angular.copy(c),n.prototype.__plugins[l].classyOptions=a,n.prototype.__plugins[l].options=a[c.name]||{};return r("preInitBefore",[n,t,e]),r("preInit",[n,t,e]),r("preInitAfter",[n,t,e])},init:function(n,t,o){var e,i,s,a,c,l,u,p,f,h,g,y,d;for(c=0,s={},y=n.constructor.__classDepNames,p=0,h=y.length;h>p;p++)l=y[p],s[l]=t[c],c++;for(r("null",[n],{before:function(n){var o,e,i,r,s,a;if(angular.isArray(n.localInject)){for(s=n.localInject,a=[],i=0,r=s.length;r>i;i++)e=s[i],o=t[c],n[e]=o,a.push(c++);return a}}}),d=this.localInject,f=0,g=d.length;g>f;f++)i=d[f],e=t[c],this[i]=e,c++;return r("initBefore",[n,s,o]),u=[],r("init",[n,s,o],{after:function(n,t){return(null!=t?t.then:void 0)?u.push(t):void 0}}),a=function(){return"function"==typeof n.init&&n.init(),r("initAfter",[n,s,o]),this.postInit(n,s,o)},u.length?this.$q.all(u).then(angular.bind(this,a)):angular.bind(this,a)()},postInit:function(n,t,o){return r("postInitBefore",[n,t,o]),r("postInit",[n,t,o]),r("postInitAfter",[n,t,o])}},angular.module("classy-core",[]),angular.module("classy-bindData",["classy-core"]).classy.plugin.controller({name:"bindData",localInject:["$parse"],options:{enabled:!0,addToScope:!0,privatePrefix:"_",keyName:"data"},hasPrivatePrefix:function(n){var t;return t=this.options.privatePrefix,t?n.slice(0,t.length)===t:!1},init:function(n,t){var o,e,i,r,s;if(this.options.enabled&&n.constructor.prototype[this.options.keyName]){if(o=angular.copy(n.constructor.prototype[this.options.keyName]),angular.isFunction(o))o=o.call(n);else if(angular.isObject(o))for(i in o)r=o[i],"string"==typeof r?(e=this.$parse(r),o[i]=e(n)):o[i]=r;s=[];for(i in o)r=o[i],n[i]=r,s.push(this.options.addToScope&&!this.hasPrivatePrefix(i)&&t.$scope?t.$scope[i]=n[i]:void 0);return s}}}),angular.module("classy-bindDependencies",["classy-core"]).classy.plugin.controller({name:"bindDependencies",options:{enabled:!0,scopeShortcut:"$",useExistingNameString:"."},preInit:function(n,t,o){var e;return e=t.inject||[],angular.isArray(e)?this.inject(n,e,o):angular.isObject(e)?this.inject(n,[e],o):void 0},inject:function(n,o,e){var i,r,s,a,c,l;angular.isObject(o[0])&&(n.__classyControllerInjectObject=o[0],o=function(){var n,t;n=o[0],t=[];for(c in n)i=n[c],t.push(c);return t}()),s=[],l=e.classy.activePlugins;for(a in l)r=l[a],angular.isArray(r.localInject)&&(s=s.concat(r.localInject));return s=s.concat(t.localInject),n.__classDepNames=angular.copy(o),n.$inject=o.concat(s)},initBefore:function(n,t){var o,e,i,r,s,a,c,l,u;if(this.options.enabled){for(r=n.constructor.__classyControllerInjectObject,l=n.constructor.$inject,u=[],e=a=0,c=l.length;c>a;e=++a)s=l[e],o=t[s],r&&(i=r[s])&&i!==this.options.useExistingNameString?u.push(n[i]=o):(n[s]=o,u.push("$scope"===s&&this.options.scopeShortcut?n[this.options.scopeShortcut]=n[s]:void 0));return u}}}),angular.module("classy-bindMethods",["classy-core"]).classy.plugin.controller({name:"bindMethods",options:{enabled:!0,addToScope:!0,privatePrefix:"_",ignore:["constructor","init"],keyName:"methods"},hasPrivatePrefix:function(n){var t;return t=this.options.privatePrefix,t?n.slice(0,t.length)===t:!1},initBefore:function(n,t){var o,e,i,r;if(this.options.enabled){i=n.constructor.prototype[this.options.keyName],r=[];for(e in i)o=i[e],!angular.isFunction(o)||a.call(this.options.ignore,e)>=0?r.push(void 0):(n[e]=angular.bind(n,o),r.push(this.options.addToScope&&!this.hasPrivatePrefix(e)&&t.$scope?t.$scope[e]=n[e]:void 0));return r}}}),angular.module("classy-register",["classy-core"]).classy.plugin.controller({name:"register",options:{enabled:!0,key:"name"},preInit:function(n,t,o){return this.options.enabled&&angular.isString(t[this.options.key])?o.controller(t[this.options.key],n):void 0}}),angular.module("classy-watch",["classy-core"]).classy.plugin.controller({name:"watch",options:{enabled:!0,_watchKeywords:{normal:[],objectEquality:["{object}","{deep}"],collection:["{collection}","{shallow}"]}},isActive:function(n,t){if(this.options.enabled&&angular.isObject(n.watch)){if(!t.$scope)throw new Error("You need to inject `$scope` to use the watch object");return!0}},watchFns:{normal:function(n,t,o,e){return e.$scope.$watch(t,angular.bind(n,o))},objectEquality:function(n,t,o,e){return e.$scope.$watch(t,angular.bind(n,o),!0)},collection:function(n,t,o,e){return e.$scope.$watchCollection(t,angular.bind(n,o))}},postInit:function(n,t){var o,e,i,r,s,a,c,l,u,p,f,h,g;if(this.isActive(n,t)){s=this.options._watchKeywords,p=n.watch,g=[];for(o in p)if(e=p[o],angular.isString(e)&&(e=n[e]),angular.isString(o)&&angular.isFunction(e)){a=!1,f=this.watchFns;for(c in f){if(r=f[c],a)break;for(h=s[c],l=0,u=h.length;u>l;l++)if(i=h[l],-1!==o.indexOf(i)){r(n,o.replace(i,""),e,t),a=!0;break}}g.push(a?void 0:this.watchFns.normal(n,o,e,t))}else g.push(void 0);return g}}}),angular.module("classy",["classy-bindData","classy-bindDependencies","classy-bindMethods","classy-register","classy-watch"])}).call(this);