!function(){var n={},t={},o=function(o,e){var a=function(o){if(t[o])for(var i=angular.module(o),s=0;s<i.requires.length;s++){var c=i.requires[s],l=n[c];l&&(r[c]=l,l.name||(l.name=c.replace("classy.","")),null==e.__classyDefaults&&(e.__classyDefaults={}),e.__classyDefaults[l.name]=angular.copy(l.options||{})),a(c)}},r={};return t[o]=!0,a(o),r},e=function(n,t,o){var e,a=t[0].__plugins||t[0].prototype.__plugins,r=Object.keys(a);for(e=0;e<r.length;e++){var i=a[r[e]];o&&"function"==typeof o.before&&o.before(i);var s;i&&"function"==typeof i[n]&&(s=i[n].apply(i,t)),o&&"function"==typeof o.after&&o.after(i,s)}};copyAndExtendDeep=function(n){var t,o,e,a,r;for(a=0,r=arguments.length;r>a;a++)if(o=arguments[a],o!==n)for(t in o)e=o[t],n[t]&&n[t].constructor&&n[t].constructor===Object?copyAndExtendDeep(n[t],e):n[t]=angular.copy(e);return n};var a=angular.module;angular.module=function(t,e,i){var s=a(t,e,i);if(e){"classy.core"===t&&(n[t]={});var c=o(t,s);c["classy.core"]&&(s.classy={plugin:{controller:function(o){n[t]=o}},options:{controller:{}},activePlugins:c,controller:function(n){var t;return t=function(){function t(){r.init(this,arguments,s)}return r.preInit(t,n,s),t}()},controllers:function(n){for(var t=0;t<n.length;t++)this.controller(n[t]);return s}},s.cC=s.classy.controller,s.cCs=s.classy.controllers)}return s};var r={localInject:["$q"],preInit:function(n,t,o){for(var a=Object.keys(t),r=0;r<a.length;r++){var i=a[r];t.hasOwnProperty(i)&&(n.prototype[i]=t[i])}for(var s=copyAndExtendDeep({},o.__classyDefaults,o.classy.options.controller,t.__options),c={},l=Object.keys(s),u=0;u<l.length;u++){var p=l[u],f=s[p];angular.isObject(f)||(c[p]=f)}n.prototype.__plugins={};for(var h=Object.keys(o.classy.activePlugins),g=0;g<h.length;g++){var y=h[g],v=o.classy.activePlugins[y];n.prototype.__plugins[y]=angular.copy(v),n.prototype.__plugins[y].classyOptions=s,n.prototype.__plugins[y].options=angular.extend(s[v.name]||{},c)}e("preInitBefore",[n,t,o]),e("preInit",[n,t,o]),e("preInitAfter",[n,t,o])},init:function(n,t,o){for(var a=0,r={},i=0;i<n.constructor.__classDepNames.length;i++){var s=n.constructor.__classDepNames[i];r[s]=t[a],a++}e("null",[n],{before:function(n){if(angular.isArray(n.localInject))for(var o=0;o<n.localInject.length;o++){var e=n.localInject[o];n[e]=t[a],a++}}});for(var c=0;c<this.localInject.length;c++){var l=this.localInject[c],u=t[a];this[l]=u,a++}e("initBefore",[n,r,o]);var p=[];e("init",[n,r,o],{after:function(n,t){t&&t.then&&p.push(t)}});var f=function(){"function"==typeof n.init&&n.init(),e("initAfter",[n,r,o]),this.postInit(n,r,o)};p.length?this.$q.all(p).then(angular.bind(this,f)):angular.bind(this,f)()},postInit:function(n,t,o){e("postInitBefore",[n,t,o]),e("postInit",[n,t,o]),e("postInitAfter",[n,t,o])}};angular.module("classy.core",[]),angular.module("classy.bindData",["classy.core"]).classy.plugin.controller({localInject:["$parse"],options:{enabled:!0,addToScope:!0,addToClass:!0,privatePrefix:"_",keyName:"data"},hasPrivatePrefix:function(n){var t=this.options.privatePrefix;return t?n.slice(0,t.length)===t:!1},init:function(n,t){var o=n.constructor.prototype[this.options.keyName];if(this.options.enabled&&o){var e=angular.copy(o);if(angular.isFunction(e))e=e.call(n);else if(angular.isObject(e))for(var a in e){var r=e[a];if(angular.isString(r)){var i=this.$parse(r);e[a]=i(n)}else e[a]=r}for(var a in e){var r=e[a];this.options.addToClass&&(n[a]=r),this.options.addToScope&&!this.hasPrivatePrefix(a)&&t.$scope&&(t.$scope[a]=r)}}}}),angular.module("classy.bindDependencies",["classy.core"]).classy.plugin.controller({options:{enabled:!0,scopeShortcut:"$"},preInit:function(n,t,o){var e=t.inject||[];angular.isArray(e)&&this.inject(n,e,o)},inject:function(n,t,o){var e=[];for(var a in o.classy.activePlugins){var i=o.classy.activePlugins[a];angular.isArray(i.localInject)&&(e=e.concat(i.localInject))}e=e.concat(r.localInject),n.__classDepNames=angular.copy(t),n.$inject=t.concat(e)},initBefore:function(n,t){if(this.options.enabled)for(var o=n.constructor.$inject,e=0;e<o.length;++e){var a=o[e];n[a]=t[a],"$scope"===a&&this.options.scopeShortcut&&(n[this.options.scopeShortcut]=n[a])}}}),angular.module("classy.bindMethods",["classy.core"]).classy.plugin.controller({localInject:["$parse"],options:{enabled:!0,addToScope:!0,addToClass:!0,privatePrefix:"_",ignore:["constructor","init"],keyName:"methods"},hasPrivatePrefix:function(n){var t;return t=this.options.privatePrefix,t?n.slice(0,t.length)===t:!1},init:function(n,t){var o=[].indexOf||function(n){for(var t=0,o=this.length;o>t;t++)if(t in this&&this[t]===n)return t;return-1};if(this.options.enabled){var e=n.constructor.prototype[this.options.keyName];for(var a in e){var r,i=e[a];if(!angular.isFunction(i)||o.call(this.options.ignore,a)>=0){if(angular.isString(i)){var s=this.$parse(i);r=function(){return s(n)}}}else r=angular.bind(n,i);angular.isFunction(r)&&(this.options.addToClass&&(n[a]=r),this.options.addToScope&&!this.hasPrivatePrefix(a)&&t.$scope&&(t.$scope[a]=r))}}}}),angular.module("classy.register",["classy.core"]).classy.plugin.controller({options:{enabled:!0,key:"name"},preInit:function(n,t,o){this.options.enabled&&angular.isString(t[this.options.key])&&o.controller(t[this.options.key],n)}}),angular.module("classy.watch",["classy.core"]).classy.plugin.controller({options:{enabled:!0,_watchKeywords:{normal:[],objectEquality:["{object}","{deep}"],collection:["{collection}","{shallow}"]}},isActive:function(n,t){if(this.options.enabled&&angular.isObject(n.watch)){if(!t.$scope)throw new Error("You need to inject `$scope` to use the watch object");return!0}},watchFns:{normal:function(n,t,o,e){return e.$scope.$watch(t,angular.bind(n,o))},objectEquality:function(n,t,o,e){return e.$scope.$watch(t,angular.bind(n,o),!0)},collection:function(n,t,o,e){return e.$scope.$watchCollection(t,angular.bind(n,o))}},postInit:function(n,t){if(this.isActive(n,t)){var o=this.options._watchKeywords;for(var e in n.watch){var a=n.watch[e];if(angular.isString(a)&&(a=n[a]),angular.isString(e)&&angular.isFunction(a)){var r=!1;for(var i in this.watchFns){var s=this.watchFns[i];if(r)break;for(var c=o[i],l=0;l<c.length;l++){var u=c[l];if(-1!==e.indexOf(u)){s(n,e.replace(u,""),a,t),r=!0;break}}}r||this.watchFns.normal(n,e,a,t)}}}}}),angular.module("classy",["classy.bindData","classy.bindDependencies","classy.bindMethods","classy.core","classy.register","classy.watch"])}();