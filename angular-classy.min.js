(function(){"use strict";var n,t,o,i,e,r,s,a={}.hasOwnProperty,l=[].indexOf||function(n){for(var t=0,o=this.length;o>t;t++)if(t in this&&this[t]===n)return t;return-1};t={},n={},e=function(o,i){var e,r;return r={},n[o]=!0,(e=function(o){var s,a,l,c,u,p;if(n[o])for(s=angular.module(o),p=s.requires,c=0,u=p.length;u>c;c++)l=p[c],a=t[l],a&&(r[l]=a,null==a.name&&(a.name=l.replace("classy.","")),null==i.__classyDefaults&&(i.__classyDefaults={}),i.__classyDefaults[a.name]=angular.copy(a.options||{})),e(l)})(o),r},s=function(n,t,o){var i,e,r,s,a;r=t[0].__plugins||t[0].prototype.__plugins;for(e in r)i=r[e],null!=o&&"function"==typeof o.before&&o.before(i),s=null!=(a=i[n])?a.apply(i,t):void 0,null!=o&&"function"==typeof o.after&&o.after(i,s)},i=function(n){var t,o,e,r,s;for(r=0,s=arguments.length;s>r;r++)if(o=arguments[r],o!==n)for(t in o)e=o[t],n[t]&&n[t].constructor&&n[t].constructor===Object?i(n[t],e):n[t]=angular.copy(e);return n},r=angular.module,angular.module=function(n,i,s){var a,l;return l=r(n,i,s),i&&("classy.core"===n&&(t[n]={}),a=e(n,l),a["classy.core"]&&(l.classy={plugin:{controller:function(o){return t[n]=o}},options:{controller:{}},activePlugins:a,controller:function(n){var t;return t=function(){function t(){o.init(this,arguments,l)}return o.preInit(t,n,l),t}()},controllers:function(n){var t,o,i;for(o=0,i=n.length;i>o;o++)t=n[o],this.controller(t);return l}},l.cC=l.classy.controller,l.cCs=l.classy.controllers)),l},o={localInject:["$q"],preInit:function(n,t,o){var e,r,l,c,u,p,f,h,g;for(e in t)a.call(t,e)&&(h=t[e],n.prototype[e]=h);c=i({},o.__classyDefaults,o.classy.options.controller,t.__options),f={};for(l in c)r=c[l],angular.isObject(r)||(f[l]=r);n.prototype.__plugins={},g=o.classy.activePlugins;for(p in g)u=g[p],n.prototype.__plugins[p]=angular.copy(u),n.prototype.__plugins[p].classyOptions=c,n.prototype.__plugins[p].options=angular.extend(c[u.name]||{},f);s("preInitBefore",[n,t,o]),s("preInit",[n,t,o]),s("preInitAfter",[n,t,o])},init:function(n,t,o){var i,e,r,a,l,c,u,p,f,h,g,y,d;for(l=0,r={},y=n.constructor.__classDepNames,p=0,h=y.length;h>p;p++)c=y[p],r[c]=t[l],l++;for(s("null",[n],{before:function(n){var o,i,e,r,s;if(angular.isArray(n.localInject))for(s=n.localInject,e=0,r=s.length;r>e;e++)i=s[e],o=t[l],n[i]=o,l++}}),d=this.localInject,f=0,g=d.length;g>f;f++)e=d[f],i=t[l],this[e]=i,l++;s("initBefore",[n,r,o]),u=[],s("init",[n,r,o],{after:function(n,t){(null!=t?t.then:void 0)&&u.push(t)}}),a=function(){"function"==typeof n.init&&n.init(),s("initAfter",[n,r,o]),this.postInit(n,r,o)},u.length?this.$q.all(u).then(angular.bind(this,a)):angular.bind(this,a)()},postInit:function(n,t,o){s("postInitBefore",[n,t,o]),s("postInit",[n,t,o]),s("postInitAfter",[n,t,o])}},angular.module("classy.core",[]),angular.module("classy.bindData",["classy.core"]).classy.plugin.controller({localInject:["$parse"],options:{enabled:!0,addToScope:!0,addToClass:!0,privatePrefix:"_",keyName:"data"},hasPrivatePrefix:function(n){var t;return t=this.options.privatePrefix,t?n.slice(0,t.length)===t:!1},init:function(n,t){var o,i,e,r;if(this.options.enabled&&n.constructor.prototype[this.options.keyName]){if(o=angular.copy(n.constructor.prototype[this.options.keyName]),angular.isFunction(o))o=o.call(n);else if(angular.isObject(o))for(e in o)r=o[e],angular.isString(r)?(i=this.$parse(r),o[e]=i(n)):o[e]=r;for(e in o)r=o[e],this.options.addToClass&&(n[e]=r),this.options.addToScope&&!this.hasPrivatePrefix(e)&&t.$scope&&(t.$scope[e]=r)}}}),angular.module("classy.bindDependencies",["classy.core"]).classy.plugin.controller({options:{enabled:!0,scopeShortcut:"$"},preInit:function(n,t,o){var i;i=t.inject||[],angular.isArray(i)&&this.inject(n,i,o)},inject:function(n,t,i){var e,r,s,a;r=[],a=i.classy.activePlugins;for(s in a)e=a[s],angular.isArray(e.localInject)&&(r=r.concat(e.localInject));r=r.concat(o.localInject),n.__classDepNames=angular.copy(t),n.$inject=t.concat(r)},initBefore:function(n,t){var o,i,e,r,s;if(this.options.enabled)for(s=n.constructor.$inject,o=e=0,r=s.length;r>e;o=++e)i=s[o],n[i]=t[i],"$scope"===i&&this.options.scopeShortcut&&(n[this.options.scopeShortcut]=n[i])}}),angular.module("classy.bindMethods",["classy.core"]).classy.plugin.controller({localInject:["$parse"],options:{enabled:!0,addToScope:!0,addToClass:!0,privatePrefix:"_",ignore:["constructor","init"],keyName:"methods"},hasPrivatePrefix:function(n){var t;return t=this.options.privatePrefix,t?n.slice(0,t.length)===t:!1},init:function(n,t){var o,i,e,r,s;if(this.options.enabled){s=n.constructor.prototype[this.options.keyName];for(r in s)i=s[r],!angular.isFunction(i)||l.call(this.options.ignore,r)>=0?angular.isString(i)&&(e=this.$parse(i),o=function(){return e(n)}):o=angular.bind(n,i),angular.isFunction(o)&&(this.options.addToClass&&(n[r]=o),this.options.addToScope&&!this.hasPrivatePrefix(r)&&t.$scope&&(t.$scope[r]=o))}}}),angular.module("classy.register",["classy.core"]).classy.plugin.controller({options:{enabled:!0,key:"name"},preInit:function(n,t,o){this.options.enabled&&angular.isString(t[this.options.key])&&o.controller(t[this.options.key],n)}}),angular.module("classy.watch",["classy.core"]).classy.plugin.controller({options:{enabled:!0,_watchKeywords:{normal:[],objectEquality:["{object}","{deep}"],collection:["{collection}","{shallow}"]}},isActive:function(n,t){if(this.options.enabled&&angular.isObject(n.watch)){if(!t.$scope)throw new Error("You need to inject `$scope` to use the watch object");return!0}},watchFns:{normal:function(n,t,o,i){return i.$scope.$watch(t,angular.bind(n,o))},objectEquality:function(n,t,o,i){return i.$scope.$watch(t,angular.bind(n,o),!0)},collection:function(n,t,o,i){return i.$scope.$watchCollection(t,angular.bind(n,o))}},postInit:function(n,t){var o,i,e,r,s,a,l,c,u,p,f,h;if(this.isActive(n,t)){s=this.options._watchKeywords,p=n.watch;for(o in p)if(i=p[o],angular.isString(i)&&(i=n[i]),angular.isString(o)&&angular.isFunction(i)){a=!1,f=this.watchFns;for(l in f){if(r=f[l],a)break;for(h=s[l],c=0,u=h.length;u>c;c++)if(e=h[c],-1!==o.indexOf(e)){r(n,o.replace(e,""),i,t),a=!0;break}}a||this.watchFns.normal(n,o,i,t)}}}}),angular.module("classy",["classy.bindData","classy.bindDependencies","classy.bindMethods","classy.core","classy.register","classy.watch"])}).call(this);