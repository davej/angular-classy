!function(){var n={},t={},e=function(e,o){var a=function(e){if(t[e])for(var s=angular.module(e),i=0;i<s.requires.length;i++){var c=s.requires[i],l=n[c];l&&(r[c]=l,l.name||(l.name=c.replace("classy.","")),o.__classyDefaults||(o.__classyDefaults={}),o.__classyDefaults[l.name]=angular.copy(l.options||{})),a(c)}},r={};return t[e]=!0,a(e),r},o=function(n,t,e){for(var o=t[2].classy.activePlugins,a=t[0].__options||t[0].prototype.__options,r=Object.keys(o),s=0;s<r.length;s++){var i=o[r[s]];i.options=a[i.name]||{},i.classyOptions=a,e&&angular.isFunction(e.before)&&e.before(i);var c;i&&n&&angular.isFunction(i[n])&&(c=i[n].apply(i,t)),e&&angular.isFunction(e.after)&&e.after(i,c)}},a=function(n){var t,e,o,r,s;for(r=0,s=arguments.length;s>r;r++)if(e=arguments[r],e!==n)for(t in e)o=e[t],n[t]&&n[t].constructor&&n[t].constructor===Object?a(n[t],o):n[t]=angular.copy(o);return n},r=angular.module;angular.module=function(t,o,a){var i=r(t,o,a);if(o){"classy.core"===t&&(n[t]={});var c=e(t,i);c["classy.core"]&&(i.classy={plugin:{component:function(e){n[t]=e}},options:{component:{}},activePlugins:c,component:function(n){function t(){s.init(this,arguments,i)}return s.preInit(t,n,i),t},components:function(n){for(var t=0;t<n.length;t++)this.component(n[t]);return i}},i.cC=i.classy.component,i.cCs=i.classy.components)}return i};var s={localInject:["$q"],preInit:function(n,t,e){this.buildConstructor(n,t),this.buildOptions(n,t,e),o("preInitBefore",[n,t,e]),o("preInit",[n,t,e]),o("preInitAfter",[n,t,e])},buildConstructor:function(n,t){for(var e=Object.keys(t),o=0;o<e.length;o++){var a=e[o];t.hasOwnProperty(a)&&(n.prototype[a]=t[a])}},buildOptions:function(n,t,e){for(var o,r,s=a({},e.__classyDefaults,e.classy.options.component,t.__options),i={},c=Object.keys(s),l=0;l<c.length;l++)r=c[l],o=s[c[l]],angular.isObject(o)||(i[r]=o);if(Object.keys(i).length)for(var u=0;u<c.length;u++)r=c[u],o=s[c[u]],angular.isObject(o)&&angular.extend(o,i);n.prototype.__options=s},init:function(n,t,e){for(var a=0,r={},s=0;s<n.constructor.__classDepNames.length;s++){var i=n.constructor.__classDepNames[s];r[i]=t[a],a++}o(null,[n,r,e],{before:function(n){if(angular.isArray(n.localInject))for(var e=0;e<n.localInject.length;e++){var o=n.localInject[e];n[o]=t[a],a++}}}),o("initBefore",[n,r,e]);var c=[];o("init",[n,r,e],{after:function(n,t){t&&t.then&&c.push(t)}});var l=function(){angular.isFunction(n.init)&&n.init(),o("initAfter",[n,r,e]),this.postInit(n,r,e)},u=angular.bind(this,l);c.length?t[a].all(c).then(u):u()},postInit:function(n,t,e){o("postInitBefore",[n,t,e]),o("postInit",[n,t,e]),o("postInitAfter",[n,t,e])}};angular.module("classy.core",[]),angular.module("classy.bindDependencies",["classy.core"]).classy.plugin.component({options:{enabled:!0},preInit:function(n,t,e){var o=t.inject||[];angular.isArray(o)&&this.inject(n,o,e)},inject:function(n,t,e){var o=[];for(var a in e.classy.activePlugins){var r=e.classy.activePlugins[a];angular.isArray(r.localInject)&&(o=o.concat(r.localInject))}o=o.concat(s.localInject),n.__classDepNames=angular.copy(t),n.$inject=t.concat(o)},initBefore:function(n,t){if(this.options.enabled)for(var e=n.constructor.__classDepNames,o=0;o<e.length;++o){var a=e[o];n[a]=t[a]}}}),angular.module("classy.bindMethods",["classy.core"]).classy.plugin.component({options:{enabled:!0,ignore:["constructor","init"],keyName:"methods"},init:function(n){if(this.options.enabled){var t=n.constructor.prototype[this.options.keyName];for(var e in t){var o=t[e];angular.isFunction(o)&&-1===this.options.ignore.indexOf(e)&&(n[e]=angular.bind(n,o))}}}}),angular.module("classy.observe",["classy.core"]).classy.plugin.component({options:{enabled:!0,key:"observe",_watchKeywords:{normal:[],object:["{object}","{deep}"],collection:["{collection}","{shallow}"]}},isActive:function(n){return this.options.enabled&&angular.isObject(n[this.options.key])?!0:!1},preInitBefore:function(n,t){this.isActive(t)&&(this.localInject=["$scope"])},watchFns:{normal:function(n,t,e){return n.$watch(t,e)},object:function(n,t,e){return n.$watch(t,e,!0)},collection:function(n,t,e){return n.$watchCollection(t,e)}},postInit:function(n,t){if(this.isActive(n,t)){var e=Object.getPrototypeOf(n).name,o=this.options._watchKeywords,a=n[this.options.key];for(var r in a){var s=a[r];if(angular.isString(s)&&(s=n[s]),angular.isString(r)&&angular.isFunction(s)){var i=!1,c=angular.bind(n,s);for(var l in this.watchFns){if(i)break;for(var u=o[l],p=0;p<u.length;p++){var f=u[p];if(-1!==r.indexOf(f)){var g=this.watchFns[l];r=e+"."+r.replace(f,""),g(this.$scope,r,c),i=!0;break}}}i||this.watchFns.normal(this.$scope,e+"."+r,c)}}}}}),angular.module("classy.register",["classy.core"]).classy.plugin.component({options:{enabled:!0,key:"selector"},toCamelCase:function(n){return n.replace(/-(\w)/g,function(n){return n[1].toUpperCase()})},preInit:function(n,t,e){if(this.options.enabled&&angular.isString(t[this.options.key])){var o=this.toCamelCase(t[this.options.key]),a=n.prototype;a.name||(a.name=o);var r={};for(var s in t.bind){var i=t.bind[s];r[s]="@"+this.toCamelCase(i)}var c={scope:{},restrict:"E",controller:n,controllerAs:a.name,bindToController:r};t.templateUrl&&(c.templateUrl=t.templateUrl),t.template&&(c.template=t.template),e.directive(o,function(){return c})}}}),angular.module("classy",["classy.bindDependencies","classy.bindMethods","classy.core","classy.observe","classy.register"])}();