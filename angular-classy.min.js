(function(){"use strict";var n,t,o,e,r,i,s,a={}.hasOwnProperty,c=[].indexOf||function(n){for(var t=0,o=this.length;o>t;t++)if(t in this&&this[t]===n)return t;return-1};t={},n={},r=function(o,e){var r,i;return i={},n[o]=!0,(r=function(o){var s,a,c,l,u,p,f;if(n[o]){for(s=angular.module(o),p=s.requires,f=[],l=0,u=p.length;u>l;l++)c=p[l],a=t[c],a&&(i[c]=a,null==a.name&&(a.name=c.replace("classy.","")),null==e.__classyDefaults&&(e.__classyDefaults={}),e.__classyDefaults[a.name]=angular.copy(a.options||{})),f.push(r(c));return f}})(o),i},s=function(n,t,o){var e,r,i,s,a,c;i=t[0].__plugins||t[0].prototype.__plugins,c=[];for(r in i)e=i[r],null!=o&&"function"==typeof o.before&&o.before(e),s=null!=(a=e[n])?a.apply(e,t):void 0,c.push(null!=o&&"function"==typeof o.after?o.after(e,s):void 0);return c},e=function(n){var t,o,r,i,s;for(i=0,s=arguments.length;s>i;i++)if(o=arguments[i],o!==n)for(t in o)r=o[t],n[t]&&n[t].constructor&&n[t].constructor===Object?e(n[t],r):n[t]=angular.copy(r);return n},i=angular.module,angular.module=function(n,e,s){var a,c;return c=i(n,e,s),e&&("classy.core"===n&&(t[n]={}),a=r(n,c),a["classy.core"]&&(c.classy={plugin:{controller:function(o){return t[n]=o}},options:{controller:{}},activePlugins:a,controller:function(n){var t;return t=function(){function t(){o.init(this,arguments,c)}return o.preInit(t,n,c),t}()},controllers:function(n){var t,o,e;for(o=0,e=n.length;e>o;o++)t=n[o],this.controller(t);return c}},c.cC=c.classy.controller,c.cCs=c.classy.controllers)),c},o={localInject:["$q"],preInit:function(n,t,o){var r,i,c,l,u,p;for(r in t)a.call(t,r)&&(u=t[r],n.prototype[r]=u);i=e({},o.__classyDefaults,o.classy.options.controller,t.__options),n.prototype.__plugins={},p=o.classy.activePlugins;for(l in p)c=p[l],n.prototype.__plugins[l]=angular.copy(c),n.prototype.__plugins[l].classyOptions=i,n.prototype.__plugins[l].options=i[c.name]||{};return s("preInitBefore",[n,t,o]),s("preInit",[n,t,o]),s("preInitAfter",[n,t,o])},init:function(n,t,o){var e,r,i,a,c,l,u,p,f,h,g,y,d;for(c=0,i={},y=n.constructor.__classDepNames,p=0,h=y.length;h>p;p++)l=y[p],i[l]=t[c],c++;for(s("null",[n],{before:function(n){var o,e,r,i,s,a;if(angular.isArray(n.localInject)){for(s=n.localInject,a=[],r=0,i=s.length;i>r;r++)e=s[r],o=t[c],n[e]=o,a.push(c++);return a}}}),d=this.localInject,f=0,g=d.length;g>f;f++)r=d[f],e=t[c],this[r]=e,c++;return s("initBefore",[n,i,o]),u=[],s("init",[n,i,o],{after:function(n,t){return(null!=t?t.then:void 0)?u.push(t):void 0}}),a=function(){return"function"==typeof n.init&&n.init(),s("initAfter",[n,i,o]),this.postInit(n,i,o)},u.length?this.$q.all(u).then(angular.bind(this,a)):angular.bind(this,a)()},postInit:function(n,t,o){return s("postInitBefore",[n,t,o]),s("postInit",[n,t,o]),s("postInitAfter",[n,t,o])}},angular.module("classy.core",[]),angular.module("classy.bindData",["classy.core"]).classy.plugin.controller({localInject:["$parse"],options:{enabled:!0,addToScope:!0,privatePrefix:"_",keyName:"data"},hasPrivatePrefix:function(n){var t;return t=this.options.privatePrefix,t?n.slice(0,t.length)===t:!1},init:function(n,t){var o,e,r,i,s;if(this.options.enabled&&n.constructor.prototype[this.options.keyName]){if(o=angular.copy(n.constructor.prototype[this.options.keyName]),angular.isFunction(o))o=o.call(n);else if(angular.isObject(o))for(r in o)i=o[r],angular.isString(i)?(e=this.$parse(i),o[r]=e(n)):o[r]=i;s=[];for(r in o)i=o[r],n[r]=i,s.push(this.options.addToScope&&!this.hasPrivatePrefix(r)&&t.$scope?t.$scope[r]=n[r]:void 0);return s}}}),angular.module("classy.bindDependencies",["classy.core"]).classy.plugin.controller({options:{enabled:!0,scopeShortcut:"$"},preInit:function(n,t,o){var e;return e=t.inject||[],angular.isArray(e)?this.inject(n,e,o):void 0},inject:function(n,t,e){var r,i,s,a;i=[],a=e.classy.activePlugins;for(s in a)r=a[s],angular.isArray(r.localInject)&&(i=i.concat(r.localInject));return i=i.concat(o.localInject),n.__classDepNames=angular.copy(t),n.$inject=t.concat(i)},initBefore:function(n,t){var o,e,r,i,s,a;if(this.options.enabled){for(s=n.constructor.$inject,a=[],o=r=0,i=s.length;i>r;o=++r)e=s[o],n[e]=t[e],a.push("$scope"===e&&this.options.scopeShortcut?n[this.options.scopeShortcut]=n[e]:void 0);return a}}}),angular.module("classy.bindMethods",["classy.core"]).classy.plugin.controller({options:{enabled:!0,addToScope:!0,privatePrefix:"_",ignore:["constructor","init"],keyName:"methods"},hasPrivatePrefix:function(n){var t;return t=this.options.privatePrefix,t?n.slice(0,t.length)===t:!1},initBefore:function(n,t){var o,e,r,i;if(this.options.enabled){r=n.constructor.prototype[this.options.keyName],i=[];for(e in r)o=r[e],!angular.isFunction(o)||c.call(this.options.ignore,e)>=0?i.push(void 0):(n[e]=angular.bind(n,o),i.push(this.options.addToScope&&!this.hasPrivatePrefix(e)&&t.$scope?t.$scope[e]=n[e]:void 0));return i}}}),angular.module("classy.register",["classy.core"]).classy.plugin.controller({options:{enabled:!0,key:"name"},preInit:function(n,t,o){return this.options.enabled&&angular.isString(t[this.options.key])?o.controller(t[this.options.key],n):void 0}}),angular.module("classy.watch",["classy.core"]).classy.plugin.controller({options:{enabled:!0,_watchKeywords:{normal:[],objectEquality:["{object}","{deep}"],collection:["{collection}","{shallow}"]}},isActive:function(n,t){if(this.options.enabled&&angular.isObject(n.watch)){if(!t.$scope)throw new Error("You need to inject `$scope` to use the watch object");return!0}},watchFns:{normal:function(n,t,o,e){return e.$scope.$watch(t,angular.bind(n,o))},objectEquality:function(n,t,o,e){return e.$scope.$watch(t,angular.bind(n,o),!0)},collection:function(n,t,o,e){return e.$scope.$watchCollection(t,angular.bind(n,o))}},postInit:function(n,t){var o,e,r,i,s,a,c,l,u,p,f,h,g;if(this.isActive(n,t)){s=this.options._watchKeywords,p=n.watch,g=[];for(o in p)if(e=p[o],angular.isString(e)&&(e=n[e]),angular.isString(o)&&angular.isFunction(e)){a=!1,f=this.watchFns;for(c in f){if(i=f[c],a)break;for(h=s[c],l=0,u=h.length;u>l;l++)if(r=h[l],-1!==o.indexOf(r)){i(n,o.replace(r,""),e,t),a=!0;break}}g.push(a?void 0:this.watchFns.normal(n,o,e,t))}else g.push(void 0);return g}}}),angular.module("classy",["classy.bindData","classy.bindDependencies","classy.bindMethods","classy.core","classy.register","classy.watch"])}).call(this);