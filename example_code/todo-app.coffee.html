<code><section><div class="code-tip"><div><p>Add ‘classy’ to your app modules</p>
</div></div><div class='highlight'><pre>app = angular.<span class="hljs-built_in">module</span> <span class="hljs-string">'app'</span>, [<span class="hljs-string">'classy'</span>]</pre></div></section><section><div class="code-tip"><div><p>Register your controller and inject your dependencies.
Injecting dependencies with Classy plays nice with minifiers, you don’t need to annotate
your dependencies (i.e. list dependencies twice) and your code remains DRY.</p>
<p>By the way you can use the shortcut app.cC instead of app.classy.controller if you prefer.</p>
</div></div><div class='highlight'><pre>app.classy.controller

  <span class="hljs-object-key">name:</span> <span class="hljs-string">'TodoCtrl'</span>

  <span class="hljs-object-key">inject:</span> [<span class="hljs-string">'$scope'</span>, <span class="hljs-string">'$location'</span>, <span class="hljs-string">'todoStorage'</span>, <span class="hljs-string">'filterFilter'</span>]</pre></div></section><section><div class="code-tip"><div><p>An init method for your initialization code. Who’d have thunk it?
You can access your dependencies using the class-wide @ symbol.
The $scope is available using @$ (or you can use @$scope if you prefer).</p>
</div></div><div class='highlight'><pre>  <span class="hljs-object-key">init:</span><span class="hljs-function"> -&gt;</span>
<span class="hljs-background-line">    @todos = @$.todos = @todoStorage.get()<span class="hljs-hide"> #!</span></span>
<span class="hljs-background-line">    @$.newTodo = ''<span class="hljs-hide"> #!</span></span>
<span class="hljs-background-line">    @$.location = @$location<span class="hljs-hide"> #!</span></span></pre></div></section><section><div class="code-tip"><div><p>Instead of polluting your init method with lots of calls to <code>$scope.$watch</code>, you can put your watchers in the watch object instead.
If you want to watch an object or collection just use the <code>{object}</code> or <code>{collection}</code> keyword.</p>
</div></div><div class='highlight'><pre>  <span class="hljs-object-key">watch:</span>
    <span class="hljs-string">'location.path()'</span>: <span class="hljs-function"><span class="hljs-params">(path)</span> -&gt;</span>
<span class="hljs-background-line">      @$.statusFilter =<span class="hljs-hide"> #!</span></span>
<span class="hljs-background-line">        if (path is '/active') then completed: false<span class="hljs-hide"> #!</span></span>
<span class="hljs-background-line">        else if (path is '/completed') then completed: true<span class="hljs-hide"> #!</span></span>

    <span class="hljs-string">'{object}todos'</span>: <span class="hljs-string">'_onTodoChange'</span></pre></div></section><section><div class="code-tip"><div><p>Most of the time when you add a function to a controller, you want it available on the $scope.
Classy automatically puts the function in your $scope so you can easily access it using directives like ng-click.</p>
</div></div><div class='highlight'><pre>  <span class="hljs-object-key">addTodo:</span><span class="hljs-function"> -&gt;</span>
<span class="hljs-background-line">    newTodo = @$.newTodo.trim()<span class="hljs-hide"> #!</span></span>
<span class="hljs-background-line">    @todos.push<span class="hljs-hide"> #!</span></span>
<span class="hljs-background-line">      title: newTodo<span class="hljs-hide"> #!</span></span>
<span class="hljs-background-line">      completed: false<span class="hljs-hide"> #!</span></span></pre></div></section><section><div class="code-tip"><div><p>Prefix the function name with an underscore and Classy wont add</p>
</div></div><div class='highlight'><pre>  <span class="hljs-object-key">_onTodoChange:</span> <span class="hljs-function"><span class="hljs-params">(newValue, oldValue)</span> -&gt;</span>
<span class="hljs-background-line">    @$.remainingCount = @filterFilter(@todos, completed: false).length<span class="hljs-hide"> #!</span></span></pre></div></section></code>