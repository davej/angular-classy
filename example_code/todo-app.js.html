<code><section><div class="code-tip"><div><p>Add ‘classy’ to your app modules</p>
</div></div><div class='highlight'><pre>
<span class="hljs-keyword">var</span> app = angular.module(<span class="hljs-string">'app'</span>, [<span class="hljs-string">'classy'</span>]);</pre></div></section><section><div class="code-tip"><div><p>Registers your controller and inject your dependencies.
Injecting dependencies with Classy plays nice with minifiers, you don’t need to annotate
your dependencies (i.e. list dependencies twice) and your code remains DRY.</p>
<p>By the way you can use the shortcut app.cC instead of app.classy.controller if you prefer.</p>
</div></div><div class='highlight'><pre>
app.classy.controller({

  <span class="hljs-object-key">name:</span> <span class="hljs-string">'TodoCtrl'</span>,

  <span class="hljs-object-key">inject:</span> [<span class="hljs-string">'$scope'</span>, <span class="hljs-string">'$location'</span>, <span class="hljs-string">'todoStorage'</span>, <span class="hljs-string">'filterFilter'</span>],</pre></div></section><section><div class="code-tip"><div><p>An init method for your initialization code. Who’d have thunk it?
You can access your dependencies using the class-wide this symbol.
The $scope is available using this.$ (or you can use this.$scope if you prefer).</p>
</div></div><div class='highlight'><pre>
  <span class="hljs-object-key">init:</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">this</span>.todos = <span class="hljs-keyword">this</span>.$.todos = <span class="hljs-keyword">this</span>.todoStorage.get();
    <span class="hljs-keyword">this</span>.$.newTodo = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">this</span>.$.location = <span class="hljs-keyword">this</span>.$location;
  },</pre></div></section><section><div class="code-tip"><div><p>Instead of polluting your init method with lots of calls to $scope.$watch,
you can put your watchers in the watch object instead.
If you want to watch an object or collection just use the {object} or {collection} keyword.</p>
</div></div><div class='highlight'><pre>
  <span class="hljs-object-key">watch:</span> {
    <span class="hljs-string">'location.path()'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(path)</span> </span>{
      <span class="hljs-keyword">this</span>.$.statusFilter = (path === <span class="hljs-string">'/active'</span>) ?
        { <span class="hljs-object-key">completed:</span> <span class="hljs-literal">false</span> } : (path === <span class="hljs-string">'/completed'</span>) ?
        { <span class="hljs-object-key">completed:</span> <span class="hljs-literal">true</span> };
    },

    <span class="hljs-string">'{object}todos'</span>: <span class="hljs-string">'_onTodoChange'</span>
  },</pre></div></section><section><div class="code-tip"><div><p>Most of the time when you add a function to a controller, you want it available on the <code>$scope</code>.
Classy automatically puts the function in your <code>$scope</code> so you can easily access it using directives like ng-click.</p>
</div></div><div class='highlight'><pre>
  <span class="hljs-object-key">addTodo:</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> newTodo = <span class="hljs-keyword">this</span>.$.newTodo.trim();
    <span class="hljs-keyword">this</span>.todos.push({
      <span class="hljs-object-key">title:</span> newTodo,
      <span class="hljs-object-key">completed:</span> <span class="hljs-literal">false</span>
    });
  },</pre></div></section><section><div class="code-tip"><div><p>Prefix the function name with an underscore and Classy wont add it to the $scope.</p>
</div></div><div class='highlight'><pre>
  <span class="hljs-object-key">_onTodoChange:</span> <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(newValue, oldValue)</span> </span>{
    <span class="hljs-keyword">this</span>.$.remainingCount =
      <span class="hljs-keyword">this</span>.filterFilter(<span class="hljs-keyword">this</span>.todos, { <span class="hljs-object-key">completed:</span> <span class="hljs-literal">false</span> }).length;
  }

});</pre></div></section></code>